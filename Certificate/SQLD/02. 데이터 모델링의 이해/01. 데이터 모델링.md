## 데이터 모델링

- 데이터 모델링은 현실세계를 데이터베이스로 표현하기 위해서 추상화한다.
- 데이터 모델링을 하기 위해서는 고객과의 의사소통을 통해 고객의 업무 프로세스를 이해햐한다.
- 고객의 업무 프로세스를 이해한 후 데이터 모델링 표기법을 사용해서 모델링을 한다.
- 데이터 모델링은 고객이 쉽게 이해할 수 있도록 복잡하지 않게 모델링해야 한다.
- 데이터 모델링은 고객의 업무 프로세스를 추상화하고, 소프트웨어를 분석 설계하면서 점점 더 상세해진다.
- 데이터 모델링은 고객의 비즈니스 프로세스를 이해하고 비즈니스 프로세스의 규칙을 정의한다. 정의된 비즈니스규칙을 데이터 모델로 표현한다.

## 데이터 모델링의 특징

- 데이터 모델링은 추상화해야 한다. → 추상화는 공통적인 특징을 찾고 간략하게 표현한다.
- 데이터 모델링은 단순화해야 한다. → 복잡한 문제를 피하고 누구나 이해할 수 있게 표현한다.
- 데이터 모델링은 명확해야 한다. → 의미적 해석이 모호하지 않고 명확하게 해석되어야 한다.

### 데이터 모델링의 주요 특징

추상화 : 현실세계를 간략하게 표현한다.

단순화 : 누구나 쉽게 이해할 수 있도록 표현한다.

명확성 : 명확하게 의미가 해석되어야 하고 한 가지 의미를 가져야 한다.

## 데이터 모델링 단계

- 데이터 모델링은 개념적 모델링, 논리적 모델링, 물리적 모델링 단계로 이루어진다.

1. 개념적 모델링
   - 고객의 비즈니스 프로세스를 분석하고 업무 전체에 대해서 데이터 모델링을 수행한다.
   - 보잡하게 표현하지 않고 중요한 부분을 위주로 모델링하는 단계이다.
   - 엄적 관점에서 모델링하며 기술적인 용어는 가급적 사용하지 않는다.
   - 엔터티와 속성을 도출하고 개념적 ERO를 작성한다.
2. 논리적 모델링
   - 개념적 모델링을 논리적 모델링으로 변환하는 작업이다.
   - 식별자를 도출하고 필요한 모든 릴레이션을 정의한다.
   - 정규화를 수행해서 데이터 모델의 독립성을 확보한다.
3. 물리적 모델링
   - 데이터베이스를 실제 구축한다. 즉, 테이블, 인덱스, 함수 등을 생성한다.
   - 성능, 보안, 가용성을 고려해서 구축한다.

### 데이터 모델링 단계

개념적 모델링

- **전사적 관점**에서 기업의 데이터를 모델링한다.
- **추상화 수준이 가장 높은 수준의 모델링**이다.
- 계층형 데이터 모델, 네트워크 모델, 관계형 모델에 관계없이 **업무 측면에서 모델링**한다.

논리적 모델링

- 특정 데이터베이스 모델에 종속한다.
- 식별자를 정의하고 관계, 속성 등을 모두 표현한다.
- 정규화를 통해서 **재사용성을 높인다.**

물리적 모델링

- 구축할 데이터베이스 관리 시스템에 테이블, 인덱스 등을 생성하는 단계이다ㅣ.
- **성능, 보안, 가용성 등을 고려하여 데이터베이스를 구축**한다.

### 데이터 모델링 관점

데이터

- 비즈니스 프로세스에서 사용되는 데이터를 의미한다.
- 구조 분석, 정적 분석

프로세스

- 비즈니스 프로세스에서 수행하는 작업을 의미한다.
- 시나리오 분석, 도메인 분석, 동적 분석

데이터와 프로세스

- 프로세스와 데이터 간의 관계를 의미한다.
- CRUD 분석

## 데이터 모델링을 위한 ERO

- 1976년 피터첸이 Entity Relationship Model 표기법을 만들었으며, 사실상 데이터 모델링의 표준으로 사용되고 있다.
- 엔터티와 엔터티 간의 관계를 정의하는 모델링 방법이다.

### ERD 작성 절차

1. 엔터티를 도출하고 그린다.
   - 업무에서 관리해야 하는 집합을 도출한다.
2. 엔터티를 배치한다.
   - 엔터티를 도출한 후 엔터티를 배치한다.
   - 중요한 엔터티를 왼쪽 상단에 배치한다.
3. 엔터티 간의 관계를 설정한다.
4. 관계명을 서술한다.
   - 엔터티 간의 어떤 행위나 존재가 있는지 표현한다.
5. 관계 참여도를 표현한다.
   - 관계 참여도는 한 개의 엔터티와 다른 엔터티 간의 참여하는 관계 수를 의미한다.
   - 즉, '고객이 여러 개의 계좌를 개설할 수 있다'와 같은 의미를 표현하는 것이다.

### ERD 작성 시 고려사항

- 중요한 엔터티를 가급적 왼쪽 상단에 배치한다.
- ERD는 이해가 쉬워야 하고 너무 복잡하지 않아야 한다.

## 데이터 모델링 고려사항

1. 데이터 모델의 독립성
   - 독립성이 확보된 모델은 고객의 업무 변화에 능동적으로 대응할 수 있다.
   - 독립성을 확보하기 위해서는 중복된 데이터를 제거해야 한다.
   - 데이터 중복을 제거하는 방법이 바로 정규화이다.
2. 고객 요구사항의 표현
   - 데이터 모델링으로 고객과 데이터 모델러 간에 의사소통을 할 수 있어야 하므로, 고객의 요구사항을 간결하고 명확하게 표현해야 한다.
3. 데이터 품질 확보
   - 데이터베이스 구축 시에 데이터 표준을 정의하고 표준 준수율을 관리해야 한다.
   - 데이터 표준을 확보해야 데이터 품질을 향상시킬 수 있다.

## 3층 스키마(3-Level Schema)

- 사용자, 설계자, 개발자가 데이터베이스를 보는 관점에 따라 데이터베이스를 기술하고 이들간의 관계를 정의한 ANSI 표준이다.
- 3층 스키마는 데이터베이스의 독립성을 확보하기 위한 방법이다.
- 데이터의 독립성을 확보하면 데이터 복잡도 감소, 데이터 중복 제거, 사용자 요구사항 변경에 따른 대응력 향상, 관리 및 유지보수 비용 절감 등의 장점을 갖는다.
- 3단계 계층으로 분리해서 독립성을 확보하는 방법으로 각 계층을 뷰라고도 한다.

### 3층 스키마의 독립성

논리적 독립성 : 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것이다.

물리적 독립성 : 내부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것이다.

## 3층 스키마 구조

외부 스키마

- 사용자 관점, 업무상 관련이 있는 데이터 접근이다.
- 관련 데이터베이스의 뷰를 표시한다.
- **응용 프로그램이 접근하는 데이터베이스**를 정의한다.

개념 스키마

- 설계자 관점, 사용자 전체 집단의 데이터베이스 구조이다.
- 전체 데이터베이스 내의 규칙과 구조를 표현한다.
- **통합 데이터베이스 구조**이다.

내부 스키마

- 개발자 관점, 데이터베이스의 **물리적 저장 구조**이다.
- 데이터 저장구조, 레코드 구조, 필드 정의, 인덱스 등을 의미한다.

## 엔터티(Entity)

- 엔터티는 업무에서 관리해야 하는 데이터 집합을 의미하며, 저장되고 관리되어야 하는 데이터이다.
- 엔터티는 개념, 사건, 장소 등의 명사이다.

### 엔터티 도출

- 엔터티는 고객의 비즈니스 프로세스에서 관리되어야 하는 정보를 추출해야 한다.

### 엔터티 특징

식별자: 엔터티는 **유일한 식별자**가 있어야 한다.

인스턴스 집합: **2개 이상의 인스턴스**가 있어야 한다.

속성: 엔터티는 **반드시 속성**을 가지고 있다.

관계: 엔터티는 **다른 엔터티와 최소한 한 개 이상 관계**가 있어야 한다.

업무: 엔터티는 **업무에서 관리되어야 하는 집합**이다.

### 엔터티 종류

엔터티의 종류는 유형과 무형에 따른 종류, 엔터티가 발생하는 시점에 따른 종류로 나누어 진다.

엔터티를 유형과 무형으로 분류하는 기준은 물리적 형태의 존재 여부이다.

- 유형/무형에 따른 엔터티 종류

  유형 엔터티: 업무에서 도출되며 **지속적으로 사용되는 엔터티**이다.

  개념 엔터티: **유형 엔터티는 물리적 형태가 있지만, 개념 엔터티는 물리적 형태가 없다.**

  사건 엔터티: **비즈니스 프로세스를 실행하면서 생성되는 엔터티**이다.

- 발생 시점에 따른 엔터티 종류

  기본 엔터티

  - **키 엔터티**라고도 한다.
  - 다른 엔터티로부터 영향을 받지 않고 **독립적으로 생성되는 엔터티**이다.

  중심 엔터티

  - 기본 엔터티와 행위 엔터티 간의 중간에 있는 것.
  - 기본 엔터티로부터 발생되고 행위 엔터티를 생성하는 것

  행위 엔터티

  - 2개 이상의 엔터티로부터 발생된다.

## 속성(Attribute)

- 속성이라는 것은 업무에서 필요한 정보인 엔터티가 가지는 항목이다.
- 속성은 더 이상 분리되지 않는 단위로, 업무에 필요한 데이터를 저장할 수 있다.
- 인스턴스의 구성요소이고 의미적으로 더 이상 분해되지 않는다.

### 속성의 특징

- 속성은 업무에서 관리되는 정보이다.
- 속성은 하나의 값만 가진다.
- 주식별자에게 함수적으로 종속된다. 즉, 기본키가 변경되면 속성의 값도 변경된다는 것.

### 속성의 종류

- 분해 여부에 따른 속성의 종류

  단일 속성

  - 하나의 의미로 구성된 것.

  복합 속성

  - 여러 개의 의미가 있는 것.

  다중값 속성

  - 속성에 여러 개의 값을 가질 수 있는 것.
  - 다중값 속성은 엔터티로 분해된다.

- 특성에 따른 속성의 종류

  기본 속성

  - 비즈니스 프로세스에서 도출되는 **본래의 속성**이다.

  설계 속성

  - **데이터 모델링 과정에서 발생되는 속성**이다.
  - **유일한 값을 부여**한다.

  파생 속성

  - **다른 속성에 의해서 만들어지는 속성**이다.

도메인: **속성이 가질 수 있는 값의 범위**이다.

### 관계(Relationship)

- 관계는 엔터티 간의 관련성을 의미하며 존재 관계와 행위 관계로 분류된다.
- 존재 관계는 두 개의 엔터티가 존재 여부의 관계가 있는 것이고, 행위 관계는 두 개의 엔터티가 어떤 행위에 의한 관련성이 있는 것이다.